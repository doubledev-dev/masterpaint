---
import Container from "@/components/Container/ContentContainer.astro";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import img1 from "@/assets/service/allService/img1.webp";
import img2 from "@/assets/service/allService/img2.webp";
import img3 from "@/assets/service/allService/img3.webp";
import img4 from "@/assets/service/allService/img4.webp";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const services = [
  {
    src: img1,
    alt: t("services.consult.title"),
    icon: "ion:calculator",
    title: t("services.consult.title"),
    p: t("services.consult.description"),
    list: [
      t("services.consult.list1"),
      t("services.consult.list2"),
      t("services.consult.list3"),
    ],
  },
  {
    src: img2,
    alt: t("services.painting.title"),
    icon: "vaadin:paint-roll",
    title: t("services.painting.title"),
    p: t("services.painting.description"),
    list: [
      t("services.painting.list1"),
      t("services.painting.list2"),
      t("services.painting.list3"),
      t("services.painting.list4"),
      t("services.painting.list5"),
      t("services.painting.list6"),
      t("services.painting.list7"),
      t("services.painting.list8"),
      t("services.painting.list9"),
      t("services.painting.list10"),
      t("services.painting.list11"),
      t("services.painting.list12"),
    ],
  },
  {
    src: img3,
    alt: t("services.renovation.title"),
    icon: "ic:twotone-construction",
    title: t("services.renovation.title"),
    p: t("services.renovation.description"),
    list: [
      t("services.renovation.list1"),
      t("services.renovation.list2"),
      t("services.renovation.list3"),
      t("services.renovation.list4"),
    ],
  },
  {
    src: img4,
    alt: t("services.design.title"),
    icon: "clarity:design-solid",
    title: t("services.design.title"),
    p: t("services.design.description"),
    list: [
      t("services.design.list1"),
      t("services.design.list2"),
      t("services.design.list3"),
      t("services.design.list4"),
    ],
  },
];
---

<Container className="mx-auto mt-5 max-w-7xl lg:mt-[72px]"
  >{
    services.map((service) => (
      <div class="flex w-full flex-col-reverse lg:h-[300px] lg:flex-row lg:justify-center">
        <Image
          src={service.src}
          alt={service.alt}
          class="aspect-[18/9] object-cover pt-5 lg:h-[300px] lg:w-[350px] lg:p-0"
        />
        <div class="w-full border-primary-800 px-8 pt-6 lg:w-[690px] lg:border-b">
          <article class="font-sans text-primary-800">
            <div class="flex flex-row items-center gap-x-3 lg:flex-col lg:items-start">
              <Icon name={service.icon} class="size-8 shrink-0 lg:size-6" />
              <h1 class="my-3 text-xl font-bold">{service.title}</h1>
            </div>
            <p class:list={service.p ? "pb-3 indent-5 text-sm lg:pb-6" : ""}>
              {service.p}
            </p>
            <ul
              class="px-4 text-sm lg:p-0"
              class:list={
                service.list.length <= 8
                  ? ""
                  : "lg:grid lg:grid-cols-2 lg:text-nowrap"
              }
            >
              {service.list.map((l, idx) => (
                <li>
                  {idx + 1}. {l}
                </li>
              ))}
            </ul>
          </article>
        </div>
      </div>
    ))
  }
</Container>
