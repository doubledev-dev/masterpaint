---
import MainLayout from "@/layouts/MainLayout.astro";
import { getCollection } from "astro:content";
import Projects from "@/components/Projects";

import { getLangFromUrl } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const projects = (await getCollection("projects")).sort((a, b) => {
  return a.data.parity - b.data.parity;
});
---

<MainLayout>
  <Projects
    slice={false}
    homePage={false}
    projectsPage={true}
    slugItems={projects}
    lang={lang}
    client:load
  />
</MainLayout>
